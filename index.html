<!-- Safety Supervisor Assistant Wireframe -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Safety Supervisor Assistant</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <!-- Intro.js for scenario walkthroughs -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intro.js/minified/introjs.min.css">
  <script src="https://cdn.jsdelivr.net/npm/intro.js/minified/intro.min.js"></script>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen">
  <!-- Top Bar with Storyboard & Architecture Diagram Triggers -->
  <header class="flex items-center justify-between px-6 py-4 bg-gray-900 border-b border-gray-800">
    <div class="flex items-center gap-4">
      <!-- Storyboard Icon -->
      <button id="storyboardBtn" aria-label="Open storyboard panel" class="hover:bg-gray-800 rounded p-2 focus:outline-none" data-tooltip-id="storyboard-tooltip">
        <span class="text-2xl">üé¨</span>
      </button>
      <!-- Architecture Diagram Panel Trigger -->
      <button id="archBtn" aria-label="Open architecture diagram" class="hover:bg-gray-800 rounded p-2 focus:outline-none ml-2" data-tooltip-id="arch-tooltip">
        <svg class="w-7 h-7 inline" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/></svg>
      </button>
    </div>
    <h1 class="text-2xl font-bold tracking-tight">Safety Supervisor Assistant</h1>
    <!-- User Profile Avatar -->
    <div class="relative group">
      <button id="profileBtn" aria-label="Account menu" class="focus:outline-none rounded-full border-2 border-gray-700 hover:border-blue-400" data-tooltip-id="profile-tooltip">
        <img src="https://loremfaces.net/96/id/1.jpg" alt="User avatar" class="w-10 h-10 rounded-full" />
      </button>
      <!-- Account Dropdown (hidden by default) -->
      <div id="profileMenu" class="hidden absolute right-0 mt-2 w-48 bg-gray-800 rounded shadow-lg z-50">
        <a href="#" class="block px-4 py-2 text-gray-100 hover:bg-gray-700">Account Settings</a>
        <a href="#" class="block px-4 py-2 text-gray-100 hover:bg-gray-700">Admin Panel</a>
        <a href="#" class="block px-4 py-2 text-red-400 hover:bg-gray-700">Logout</a>
      </div>
    </div>
  </header>

  <div class="flex min-h-[calc(100vh-64px)]">
    <!-- Sidebar Navigation -->
    <nav class="w-64 bg-gray-900 border-r border-gray-800 flex flex-col py-6 px-4 space-y-2" aria-label="Sidebar">
      <a href="#dashboard" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-800 focus:bg-gray-800" data-tooltip-id="sidebar-dashboard-tooltip">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M13 5v6h6"/></svg>
        <span>Dashboard</span>
      </a>
      <a href="#briefings" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-800 focus:bg-gray-800" data-tooltip-id="sidebar-briefings-tooltip">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 17l4 4 4-4m0-5V3a1 1 0 00-1-1H5a1 1 0 00-1 1v16a1 1 0 001 1h3"/></svg>
        <span>Briefings</span>
      </a>
      <a href="#alerts" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-800 focus:bg-gray-800" data-tooltip-id="sidebar-alerts-tooltip">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 8v4m0 4h.01"/></svg>
        <span>Live Alerts</span>
      </a>
      <a href="#reports" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-800 focus:bg-gray-800" data-tooltip-id="sidebar-reports-tooltip">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 4h6a2 2 0 002-2v-5a2 2 0 00-2-2h-2a2 2 0 00-2 2v5a2 2 0 002 2z"/></svg>
        <span>Reports</span>
      </a>
      <a href="#settings" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-800 focus:bg-gray-800" data-tooltip-id="sidebar-settings-tooltip">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01"/></svg>
        <span>Settings</span>
      </a>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 p-8 overflow-y-auto">
      <!-- Dashboard Section -->
      <section id="dashboard-section" aria-labelledby="dashboard-title" class="mb-10">
        <!-- Added dynamic animations and interactive widgets to the Dashboard -->
        <div class="dashboard grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
          <!-- Daily Risk Score Panel with Visual Gauge using Tailwind Classes -->
          <div class="panel bg-gradient-to-r from-green-400 to-blue-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 animate-fade-in relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì reviews risk score, initiates mitigations</li>
                    <li><span class="font-medium">IT:</span> Data Scientist ‚Äì maintains scoring logic</li>
                    <li><span class="font-medium">Cross-functional:</span> Safety SME ‚Äì validates risk factors</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other sites? Will it handle 10√ó more data?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Summarize daily operational risk for quick review</li>
                    <li>Requires: Telemetry, incident logs, weather data</li>
                    <li class="text-xs text-gray-500">Prompt: Could this be parameterized for other risk types?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Reduces manual risk assessment workload</li>
                    <li class="text-red-600">‚Äì Risk: Over-trust in automated scores</li>
                    <li class="text-xs text-gray-500">Nudge: Show confidence, allow user override</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing dashboard?</li>
                    <li>Can this logic be handled by a low-code tool?</li>
                    <li>Will this still make sense in 6 months?</li>
                  </ul>
                </div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-2">Daily Risk Score</h2>
            
            <!-- Enhanced Interactive Visual Risk Gauge -->
            <div class="relative h-28 flex items-center justify-center mb-3">
              <!-- Background track with colored segments -->
              <div id="risk-slider-track" class="w-full h-6 rounded-full flex overflow-hidden shadow-inner cursor-pointer transition-all">
                <div class="bg-gradient-to-r from-green-600 to-green-400 h-full w-[33%]"></div>
                <div class="bg-gradient-to-r from-yellow-500 to-yellow-400 h-full w-[33%]"></div>
                <div class="bg-gradient-to-r from-red-500 to-red-400 h-full w-[34%]"></div>
              </div>
              
              <!-- Labels -->
              <div class="absolute flex justify-between w-full px-2 -mt-16">
                <span class="text-xs font-semibold text-green-400">Low Risk</span>
                <span class="text-xs font-semibold text-yellow-400">Moderate Risk</span>
                <span class="text-xs font-semibold text-red-400">High Risk</span>
              </div>
              
              <!-- Value labels -->
              <div class="absolute flex justify-between w-full px-2 mt-10">
                <span class="text-xs font-medium">0</span>
                <span class="text-xs font-medium">5</span>
                <span class="text-xs font-medium">10</span>
              </div>
              
              <!-- Slider indicator - positioned at 21% (2.1 out of 10) -->
              <div id="risk-slider-indicator" class="absolute transition-all duration-200" style="left: 21%;">
                <div class="flex flex-col items-center">
                  <span class="inline-block bg-white w-4 h-8 rounded-full border-2 border-blue-400 shadow-lg transform -translate-y-1 hover:scale-110 transition-transform"></span>
                  <span id="risk-slider-value" class="text-sm font-bold bg-blue-600 text-white rounded-full h-5 w-8 flex items-center justify-center mt-1">2.1</span>
                </div>
              </div>
            </div>
            
            <div class="text-center mb-3">
              <p id="risk-score-text" class="text-3xl font-extrabold">Low Risk (2.1/10)</p>
              <p class="text-xs flex items-center justify-center">
                <svg class="w-4 h-4 text-green-500 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>
                </svg>
                7% lower than yesterday
              </p>
            </div>
            
            <!-- Risk Breakdown - Enhanced with Tooltip Info -->
            <div class="space-y-2 text-sm">
              <div>
                <div class="flex justify-between mb-1 items-center">
                  <span class="flex items-center">
                    Weather Conditions
                    <span class="ml-1 text-xs text-gray-300 cursor-help relative group">
                      <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span class="absolute left-0 bottom-full mb-2 hidden group-hover:block bg-gray-800 text-xs text-white p-1 rounded w-40 z-10">
                        Combines temperature, precipitation, and wind data
                      </span>
                    </span>
                  </span>
                  <span class="font-medium">1.0/10</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3 bg-opacity-30 shadow-inner">
                  <div class="bg-green-500 h-3 rounded-full w-[10%] transition-all duration-500 ease-out"></div>
                </div>
              </div>
              
              <div>
                <div class="flex justify-between mb-1 items-center">
                  <span class="flex items-center">
                    Equipment Failure
                    <span class="ml-1 text-xs text-gray-300 cursor-help relative group">
                      <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span class="absolute left-0 bottom-full mb-2 hidden group-hover:block bg-gray-800 text-xs text-white p-1 rounded w-40 z-10">
                        Based on maintenance logs and equipment age
                      </span>
                    </span>
                  </span>
                  <span class="font-medium">3.5/10</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3 bg-opacity-30 shadow-inner">
                  <div class="bg-yellow-500 h-3 rounded-full w-[35%] transition-all duration-500 ease-out"></div>
                </div>
              </div>
              
              <div>
                <div class="flex justify-between mb-1 items-center">
                  <span class="flex items-center">
                    Human Factors
                    <span class="ml-1 text-xs text-gray-300 cursor-help relative group">
                      <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span class="absolute left-0 bottom-full mb-2 hidden group-hover:block bg-gray-800 text-xs text-white p-1 rounded w-40 z-10">
                        Includes fatigue, training, and compliance factors
                      </span>
                    </span>
                  </span>
                  <span class="font-medium">1.8/10</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3 bg-opacity-30 shadow-inner">
                  <div class="bg-green-500 h-3 rounded-full w-[18%] transition-all duration-500 ease-out"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Safety Achievement Panel -->
          <div class="panel bg-gradient-to-r from-emerald-400 to-green-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì tracks safety streaks</li>
                    <li><span class="font-medium">IT:</span> Software Engineer ‚Äì maintains achievement logic</li>
                    <li><span class="font-medium">Cross-functional:</span> Project Manager ‚Äì reports on milestones</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other teams? Will it handle more milestones?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Highlight safety achievements and progress</li>
                    <li>Requires: Incident logs, attendance data</li>
                    <li class="text-xs text-gray-500">Prompt: Is this tightly coupled to one site?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Motivates safe behavior with positive feedback</li>
                    <li class="text-red-600">‚Äì Risk: Overemphasis on streaks may hide near-misses</li>
                    <li class="text-xs text-gray-500">Nudge: Show context, not just streaks</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing recognition system?</li>
                    <li>Can this be automated with existing data?</li>
                    <li>Will this logic scale to multiple teams?</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="flex justify-between items-center mb-3">
              <h2 class="text-xl font-bold">Safety Achievement</h2>
              <button class="toggle-btn bg-white text-green-500 px-2 py-1 rounded-lg shadow-md hover:bg-green-100 text-xs" aria-label="Toggle safety milestones details" title="Toggle safety milestones details">Toggle</button>
            </div>
            
            <div class="flex items-center mb-3">
              <div class="mr-4 relative">
                <span class="text-5xl">üèÜ</span>
                <span class="absolute -top-1 -right-1 bg-yellow-300 text-green-700 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold">30</span>
              </div>
              <div>
                <p class="text-xl font-bold">30 Days</p>
                <p class="text-sm">Incident-Free Streak!</p>
                <p class="text-xs mt-1">5,000+ safe work hours</p>
              </div>
            </div>
            
            <!-- Safety Progress Bars -->
            <div class="mt-3 space-y-2 bg-green-600 bg-opacity-20 p-3 rounded">
              <div>
                <div class="flex justify-between text-xs mb-1">
                  <span>PPE Compliance</span>
                  <span>98%</span>
                </div>
                <div class="w-full bg-white bg-opacity-30 rounded-full h-2">
                  <div class="bg-white h-2 rounded-full w-[98%]"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-xs mb-1">
                  <span>Safety Training</span>
                  <span>100%</span>
                </div>
                <div class="w-full bg-white bg-opacity-30 rounded-full h-2">
                  <div class="bg-white h-2 rounded-full w-full"></div>
                </div>
              </div>
            </div>
            
            <div class="content hidden">
              <div class="mt-3 space-y-2">
                <h3 class="text-sm font-semibold">Safety Milestones</h3>
                
                <div class="relative pl-6 border-l-2 border-white border-opacity-30">
                  <div class="mb-3">
                    <span class="absolute left-[-8px] top-0 w-4 h-4 bg-green-300 rounded-full"></span>
                    <p class="text-xs font-semibold">May 21, 2025</p>
                    <p class="text-sm">Today - All safety protocols followed</p>
                    <p class="text-xs bg-green-600 bg-opacity-40 rounded px-2 py-0.5 mt-1 inline-block">Perfect Score</p>
                  </div>
                  
                  <div class="mb-3">
                    <span class="absolute left-[-8px] top-0 w-4 h-4 bg-green-300 rounded-full"></span>
                    <p class="text-xs font-semibold">May 17, 2025</p>
                    <p class="text-sm">Team Safety Training Completed</p>
                    <p class="text-xs bg-green-600 bg-opacity-40 rounded px-2 py-0.5 mt-1 inline-block">100% Participation</p>
                  </div>
                  
                  <div>
                    <span class="absolute left-[-8px] top-0 w-4 h-4 bg-blue-400 rounded-full"></span>
                    <p class="text-xs font-semibold">May 15, 2025</p>
                    <p class="text-sm">New safety equipment installed</p>
                    <p class="text-xs bg-blue-600 bg-opacity-40 rounded px-2 py-0.5 mt-1 inline-block">Facility Upgrade</p>
                  </div>
                </div>
              </div>
              
              <div class="mt-3 text-xs text-right">
                <a href="#reports" class="underline">View safety performance report</a>
              </div>
            </div>
          </div>

          <!-- Weather Forecast Panel with Icons and Detailed Information -->
          <div class="panel bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì monitors weather impact</li>
                    <li><span class="font-medium">IT:</span> Data Analyst ‚Äì integrates weather data</li>
                    <li><span class="font-medium">Cross-functional:</span> Safety SME ‚Äì validates weather-related risks</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other sites? Will it handle 10√ó more data?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Provide weather forecast for operational planning</li>
                    <li>Requires: Weather API integration</li>
                    <li class="text-xs text-gray-500">Prompt: Could this be parameterized for other weather types?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Improves planning accuracy</li>
                    <li class="text-red-600">‚Äì Risk: Over-reliance on forecast data</li>
                    <li class="text-xs text-gray-500">Nudge: Show confidence, allow user override</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing dashboard?</li>
                    <li>Can this logic be handled by a low-code tool?</li>
                    <li>Will this still make sense in 6 months?</li>
                  </ul>
                </div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-3">Weather Forecast</h2>
            <div class="flex items-center mb-3">
              <span class="text-4xl mr-3">‚òÄÔ∏è</span>
              <div>
                <p class="text-2xl font-bold">25¬∞C</p>
                <p class="text-sm">Sunny, Clear Skies</p>
              </div>
            </div>
            <div class="grid grid-cols-3 gap-2 mt-2 text-center">
              <div class="bg-yellow-300 bg-opacity-30 rounded p-2">
                <p class="text-xs">Today</p>
                <span class="text-xl">‚òÄÔ∏è</span>
                <p class="text-xs">25¬∞C</p>
              </div>
              <div class="bg-yellow-300 bg-opacity-30 rounded p-2">
                <p class="text-xs">Tomorrow</p>
                <span class="text-xl">‚õÖ</span>
                <p class="text-xs">23¬∞C</p>
              </div>
              <div class="bg-yellow-300 bg-opacity-30 rounded p-2">
                <p class="text-xs">Wednesday</p>
                <span class="text-xl">üåßÔ∏è</span>
                <p class="text-xs">19¬∞C</p>
              </div>
            </div>
            <div class="mt-3 text-xs">
              <p><strong>Wind:</strong> 5 km/h NW ‚Ä¢ <strong>Humidity:</strong> 45%</p>
              <p id="clock" class="mt-2">Loading time...</p>
            </div>
          </div>

          <!-- Team Status Panel with Visual Representation -->
          <div class="panel bg-gradient-to-r from-purple-400 to-indigo-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì monitors team status</li>
                    <li><span class="font-medium">IT:</span> Data Analyst ‚Äì integrates personnel data</li>
                    <li><span class="font-medium">Cross-functional:</span> HR ‚Äì validates team roles</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other sites? Will it handle 10√ó more data?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Provide real-time team status for operational planning</li>
                    <li>Requires: Personnel tracking system</li>
                    <li class="text-xs text-gray-500">Prompt: Could this be parameterized for other team types?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Improves team coordination</li>
                    <li class="text-red-600">‚Äì Risk: Over-reliance on automated data</li>
                    <li class="text-xs text-gray-500">Nudge: Show confidence, allow user override</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing dashboard?</li>
                    <li>Can this logic be handled by a low-code tool?</li>
                    <li>Will this still make sense in 6 months?</li>
                  </ul>
                </div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-3">Team Status</h2>
            <div class="flex flex-col space-y-2">
              <div class="flex items-center justify-between bg-purple-600 bg-opacity-30 p-2 rounded">
                <div class="flex items-center">
                  <img src="https://loremfaces.net/96/id/1.jpg" alt="Team member" class="w-8 h-8 rounded-full mr-2" />
                  <div>
                    <p class="text-sm font-semibold">John Smith</p>
                    <p class="text-xs">Safety Inspector</p>
                  </div>
                </div>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500 text-white">Active</span>
              </div>
              
              <div class="flex items-center justify-between bg-purple-600 bg-opacity-30 p-2 rounded">
                <div class="flex items-center">
                  <img src="https://loremfaces.net/96/id/2.jpg" alt="Team member" class="w-8 h-8 rounded-full mr-2" />
                  <div>
                    <p class="text-sm font-semibold">Emily Johnson</p>
                    <p class="text-xs">Crane Operator</p>
                  </div>
                </div>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-500 text-white">Break</span>
              </div>
              
              <div class="flex items-center justify-between bg-purple-600 bg-opacity-30 p-2 rounded">
                <div class="flex items-center">
                  <img src="https://loremfaces.net/96/id/3.jpg" alt="Team member" class="w-8 h-8 rounded-full mr-2" />
                  <div>
                    <p class="text-sm font-semibold">Michael Wilson</p>
                    <p class="text-xs">Site Manager</p>
                  </div>
                </div>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500 text-white">Active</span>
              </div>
            </div>
            <div class="mt-3 text-right text-xs">
              <p>12/15 team members on site</p>
            </div>
          </div>

          <!-- Quick Actions Panel with More Options -->
          <div class="panel bg-gradient-to-r from-teal-400 to-cyan-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì initiates quick actions</li>
                    <li><span class="font-medium">IT:</span> Data Analyst ‚Äì monitors action impact</li>
                    <li><span class="font-medium">Cross-functional:</span> Safety SME ‚Äì validates action criteria</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other actions? Will it handle 10√ó more data?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Provide quick access to critical actions</li>
                    <li>Requires: Action API integration</li>
                    <li class="text-xs text-gray-500">Prompt: Could this be parameterized for other action types?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Improves response time</li>
                    <li class="text-red-600">‚Äì Risk: Over-reliance on automated actions</li>
                    <li class="text-xs text-gray-500">Nudge: Show confidence, allow user override</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing dashboard?</li>
                    <li>Can this logic be handled by a low-code tool?</li>
                    <li>Will this still make sense in 6 months?</li>
                  </ul>
                </div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-3">Quick Actions</h2>
            
            <div class="grid grid-cols-2 gap-3">
              <button aria-label="Generate safety report" title="Generate safety report" class="bg-white text-teal-500 px-3 py-2 rounded-lg shadow-md hover:bg-teal-100 flex items-center justify-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                Generate Report
              </button>
              
              <button aria-label="Send safety alert" title="Send safety alert" class="bg-white text-teal-500 px-3 py-2 rounded-lg shadow-md hover:bg-teal-100 flex items-center justify-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                Send Alert
              </button>
              
              <button aria-label="Emergency stop all operations" title="Emergency stop all operations" class="bg-white text-teal-500 px-3 py-2 rounded-lg shadow-md hover:bg-teal-100 flex items-center justify-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                Emergency Stop
              </button>
              
              <button aria-label="Schedule team briefing" title="Schedule team briefing" class="bg-white text-teal-500 px-3 py-2 rounded-lg shadow-md hover:bg-teal-100 flex items-center justify-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                Team Briefing
              </button>
              
              <button id="theme-toggle" aria-label="Toggle between dark and light mode" title="Toggle between dark and light mode" class="bg-white text-teal-500 px-3 py-2 rounded-lg shadow-md hover:bg-teal-100 flex items-center justify-center col-span-2">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                Toggle Dark/Light Mode
              </button>
            </div>
                        
            <div class="mt-3 text-xs">
              <p>Last Action: Report generated at 08:45</p>
            </div>
          </div>

          <!-- Enhanced Site Map Panel with Markers and Legend -->
          <div class="panel bg-gradient-to-r from-gray-400 to-gray-500 text-white p-4 rounded-lg shadow-lg transform transition-transform hover:scale-105 relative">
            <!-- Tooltip Icon and Panel -->
            <div class="absolute top-2 right-2 group z-20">
              <button class="focus:outline-none" aria-label="Show component tooltips">
                <span class="text-lg">üë•</span>
              </button>
              <div class="z-50 absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded shadow-lg p-4 text-left text-sm opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 text-gray-900">
                <!-- Task + Persona Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üë•</span> Task + Persona</div>
                  <ul class="list-disc list-inside ml-2">
                    <li><span class="font-medium">OT:</span> Operations Supervisor ‚Äì monitors site map</li>
                    <li><span class="font-medium">IT:</span> Data Analyst ‚Äì integrates map data</li>
                    <li><span class="font-medium">Cross-functional:</span> Safety SME ‚Äì validates map markers</li>
                  </ul>
                  <div class="mt-1 text-xs text-gray-500">Scale: Can this logic be reused for other sites? Will it handle 10√ó more data?</div>
                </div>
                <!-- Design Intent Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üéØ</span> Design Intent</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Provide interactive site map for operational planning</li>
                    <li>Requires: Map API integration</li>
                    <li class="text-xs text-gray-500">Prompt: Could this be parameterized for other map types?</li>
                  </ul>
                </div>
                <!-- AI Impact Tooltip -->
                <div class="mb-3">
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üß†</span> AI Impact</div>
                  <ul class="list-disc list-inside ml-2">
                    <li class="text-green-600">+ Improves situational awareness</li>
                    <li class="text-red-600">‚Äì Risk: Over-reliance on automated data</li>
                    <li class="text-xs text-gray-500">Nudge: Show confidence, allow user override</li>
                  </ul>
                </div>
                <!-- Implementation Helper Tooltip -->
                <div>
                  <div class="font-semibold flex items-center mb-1"><span class="mr-1">üõ†Ô∏è</span> Implementation Helper</div>
                  <ul class="list-disc list-inside ml-2">
                    <li>Is this duplicating an existing dashboard?</li>
                    <li>Can this logic be handled by a low-code tool?</li>
                    <li>Will this still make sense in 6 months?</li>
                  </ul>
                </div>
              </div>
            </div>
            <h2 class="text-xl font-bold mb-3">Site Map</h2>
            <div class="relative w-full h-64">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.835434509374!2d-122.419415484681!3d37.77492977975971!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80858064f0e0b1b1%3A0x4a0b1b1b1b1b1b1b!2sSafety%20Site!5e0!3m2!1sen!2sus!4v1620000000000!5m2!1sen!2sus" title="Interactive site map showing hazardous zones, emergency exits and site entrances" class="w-full h-full border-0 rounded-lg" allowfullscreen=""></iframe>
              <!-- Interactive Legend -->
              <div class="absolute bottom-4 left-4 bg-gray-800 bg-opacity-75 text-white p-2 rounded shadow">
                <h3 class="text-sm font-bold mb-1">Legend</h3>
                <ul class="text-xs space-y-1">
                  <li><span class="inline-block w-3 h-3 bg-red-500 rounded-full mr-2"></span>Hazardous Zone</li>
                  <li><span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-2"></span>Emergency Exit</li>
                  <li><span class="inline-block w-3 h-3 bg-blue-500 rounded-full mr-2"></span>Site Entrance</li>
                </ul>
              </div>
              <!-- Map Controls -->
              <div class="absolute top-4 right-4 bg-gray-800 bg-opacity-75 text-white p-2 rounded shadow">
                <button aria-label="Zoom in on map" title="Zoom in on map" class="text-xs px-2 py-1 bg-blue-500 rounded hover:bg-blue-600">Zoom In</button>
                <button aria-label="Zoom out on map" title="Zoom out on map" class="text-xs px-2 py-1 bg-blue-500 rounded hover:bg-blue-600 ml-1">Zoom Out</button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Briefings Section - Enhanced with Visual Design, Templates and Interactive Elements -->
      <section id="briefings-section" aria-labelledby="briefings-title" class="mb-10 hidden">
        <div class="flex items-center justify-between mb-4">
          <h2 id="briefings-title" class="text-xl font-semibold">Safety Briefings</h2>
          <div class="flex items-center gap-2">
            <span class="text-sm text-gray-400">Last Updated:</span>
            <span id="briefing-last-update" class="text-sm">Today at 08:32</span>
          </div>
        </div>
        
        <!-- Enhanced Briefing Generator Form with Visual Design and Templates -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
          <div class="md:col-span-2">
            <form class="bg-gradient-to-br from-blue-900 to-indigo-900 rounded-lg p-6 shadow-lg space-y-4 relative overflow-hidden" autocomplete="off">
              <div class="absolute top-0 right-0 w-40 h-40 bg-blue-500 rounded-full opacity-10 -mr-16 -mt-16"></div>
              <div class="absolute bottom-0 left-0 w-32 h-32 bg-indigo-500 rounded-full opacity-10 -ml-10 -mb-10"></div>
              
              <h3 class="font-semibold text-lg mb-2 relative z-10">Create Safety Briefing</h3>
              
              <!-- Template Selection -->
              <div class="flex flex-wrap gap-2 mb-4">
                <button aria-label="Use general briefing template" title="General briefing template" type="button" class="template-btn bg-blue-600 bg-opacity-50 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center justify-center border-2 border-blue-400">
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                  General
                </button>
                <button aria-label="Use high-risk operations template" title="High-risk operations template" type="button" class="template-btn bg-blue-700 bg-opacity-30 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center justify-center">
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                  High-Risk
                </button>
                <button aria-label="Use confined space operations template" title="Confined space operations template" type="button" class="template-btn bg-blue-700 bg-opacity-30 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center justify-center">
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                  Confined Space
                </button>
                <button aria-label="Use custom template" title="Custom template" type="button" class="template-btn bg-blue-700 bg-opacity-30 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center justify-center">
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                  Custom
                </button>
              </div>
              
              <!-- Weather with Icon Selection -->
              <div class="relative">
                <label for="weather" class="block text-sm font-medium mb-1">Weather Conditions</label>
                <div class="flex gap-2">
                  <div class="weather-icons flex bg-gray-900 bg-opacity-50 rounded p-1 border border-blue-700">
                    <button aria-label="Sunny weather" title="Sunny" type="button" class="w-8 h-8 flex items-center justify-center text-lg rounded hover:bg-blue-600 bg-blue-700">‚òÄÔ∏è</button>
                    <button aria-label="Partly cloudy weather" title="Partly cloudy" type="button" class="w-8 h-8 flex items-center justify-center text-lg rounded hover:bg-blue-600">‚õÖ</button>
                    <button aria-label="Rainy weather" title="Rainy" type="button" class="w-8 h-8 flex items-center justify-center text-lg rounded hover:bg-blue-600">üåßÔ∏è</button>
                    <button aria-label="Stormy weather" title="Stormy" type="button" class="w-8 h-8 flex items-center justify-center text-lg rounded hover:bg-blue-600">‚õàÔ∏è</button>
                    <button aria-label="Snowy weather" title="Snowy" type="button" class="w-8 h-8 flex items-center justify-center text-lg rounded hover:bg-blue-600">‚ùÑÔ∏è</button>
                  </div>
                  <input id="weather" name="weather" type="text" class="flex-1 rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="e.g. Sunny, 75¬∞F" value="Sunny, 75¬∞F" />
                </div>
              </div>
              
              <!-- Enhanced Site Activities Input -->
              <div>
                <label for="activities" class="block text-sm font-medium mb-1">Site Activities</label>
                <div class="relative">
                  <input id="activities" name="activities" type="text" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 pl-10 pr-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="e.g. Crane lift, Concrete pour" value="Crane lift, Concrete pour" />
                  <svg class="absolute left-3 top-2.5 h-5 w-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                </div>
                <!-- Quick Activity Suggestions -->
                <div class="flex flex-wrap gap-2 mt-2">
                  <button aria-label="Add crane lift activity" title="Add crane lift activity" type="button" class="activity-tag bg-blue-800 bg-opacity-40 hover:bg-blue-700 text-xs px-2 py-1 rounded">+ Crane lift</button>
                  <button aria-label="Add concrete pour activity" title="Add concrete pour activity" type="button" class="activity-tag bg-blue-800 bg-opacity-40 hover:bg-blue-700 text-xs px-2 py-1 rounded">+ Concrete pour</button>
                  <button aria-label="Add excavation activity" title="Add excavation activity" type="button" class="activity-tag bg-blue-800 bg-opacity-40 hover:bg-blue-700 text-xs px-2 py-1 rounded">+ Excavation</button>
                  <button aria-label="Add welding activity" title="Add welding activity" type="button" class="activity-tag bg-blue-800 bg-opacity-40 hover:bg-blue-700 text-xs px-2 py-1 rounded">+ Welding</button>
                </div>
              </div>
              
              <!-- Enhanced Equipment Input with Dropdown -->
              <div>
                <label for="equipment" class="block text-sm font-medium mb-1">Equipment in Use</label>
                <div class="relative">
                  <input id="equipment" name="equipment" type="text" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 pl-10 pr-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="e.g. Forklift, Scaffolding" value="Forklift, Scaffolding" />
                  <svg class="absolute left-3 top-2.5 h-5 w-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                </div>
              </div>
              
              <!-- Additional Briefing Options -->
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label for="hazards" class="block text-sm font-medium mb-1">Key Hazards</label>
                  <div class="relative">
                    <input id="hazards" name="hazards" type="text" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="e.g. Overhead loads" value="Overhead loads, Wind gusts" />
                  </div>
                </div>
                <div>
                  <label for="briefing-target" class="block text-sm font-medium mb-1">Target Team</label>
                  <select id="briefing-target" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <option value="all">All Site Personnel</option>
                    <option value="crane">Crane Operators</option>
                    <option value="concrete">Concrete Team</option>
                    <option value="electrical">Electrical Team</option>
                  </select>
                </div>
              </div>
              
              <!-- AI Enhancements Toggle -->
              <div class="pt-2">
                <div class="flex items-center justify-between bg-blue-600 bg-opacity-30 p-2 rounded border border-blue-700">
                  <div class="flex items-center gap-2">
                    <svg class="h-5 w-5 text-blue-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    <span class="text-sm">AI Safety Enhancements</span>
                  </div>
                  <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2">
                      <input type="checkbox" id="hazard-prediction" class="rounded text-blue-600 focus:ring-blue-400" checked>
                      <label for="hazard-prediction" class="text-sm">Hazard Prediction</label>
                    </div>
                    <div class="flex items-center gap-2">
                      <input type="checkbox" id="prev-incidents" class="rounded text-blue-600 focus:ring-blue-400" checked>
                      <label for="prev-incidents" class="text-sm">Previous Incidents</label>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex justify-between pt-2">
                <button aria-label="Save as template" title="Save as template" type="button" class="bg-transparent hover:bg-blue-700 text-blue-300 border border-blue-500 px-4 py-2 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-400 flex items-center gap-2">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                  </svg>
                  Save Template
                </button>
                <button aria-label="Generate safety briefing" title="Generate safety briefing" type="button" class="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold px-6 py-3 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-400 flex items-center gap-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                  Generate Briefing
                </button>
              </div>
            </form>
          </div>
          
          <!-- Weather and Risk Summary -->
          <div class="bg-gradient-to-br from-orange-900 to-red-900 rounded-lg shadow-lg p-6 flex flex-col justify-between">
            <h3 class="font-semibold text-lg mb-3">Today's Conditions</h3>
            
            <div class="flex items-center mb-4">
              <span class="text-4xl mr-3">‚òÄÔ∏è</span>
              <div>
                <p class="text-2xl font-bold">25¬∞C</p>
                <p class="text-sm">Clear skies, low wind</p>
              </div>
            </div>
            
            <div class="space-y-3">
              <h4 class="text-sm font-semibold">Special Considerations</h4>
              
              <div class="flex items-center justify-between bg-red-800 bg-opacity-40 rounded px-3 py-2 border-l-4 border-red-500">
                <div class="flex items-center">
                  <svg class="h-4 w-4 mr-2 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                  </svg>
                  <span class="text-sm">High UV Index</span>
                </div>
                <span class="text-xs bg-red-700 rounded-full px-2 py-0.5">Alert</span>
              </div>
              
              <div class="flex items-center justify-between bg-yellow-800 bg-opacity-30 rounded px-3 py-2 border-l-4 border-yellow-500">
                <div class="flex items-center">
                  <svg class="h-4 w-4 mr-2 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                  </svg>
                  <span class="text-sm">Dust Risk</span>
                </div>
                <span class="text-xs bg-yellow-700 rounded-full px-2 py-0.5">Warning</span>
              </div>
            </div>
            
            <div class="mt-4 pt-3 border-t border-red-800">
              <h4 class="text-sm font-semibold mb-2">Site Status</h4>
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm">Personnel on site:</span>
                <span class="font-semibold">12/15</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Active equipment:</span>
                <span class="font-semibold">5</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Enhanced AI-Generated Safety Briefing Display -->
        <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg mb-6 relative">
          <div class="absolute top-0 right-0 w-32 h-32 bg-blue-500 rounded-full opacity-5 -mr-10 -mt-10"></div>
          
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-semibold text-lg">AI-Generated Safety Briefing</h3>
            <span class="bg-blue-900 text-blue-300 text-xs px-3 py-1 rounded-full flex items-center">
              <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
              AI Enhanced
            </span>
          </div>
          
          <div class="bg-gray-900 border border-blue-800 rounded-lg p-4 mb-4">
            <div class="flex justify-between items-center mb-3">
              <div class="flex items-center">
                <span class="text-xl mr-2">üìã</span>
                <h4 class="font-medium">General Site Safety Briefing</h4>
              </div>
              <span class="text-xs text-gray-400">Generated: 2025-05-21 08:32</span>
            </div>
            
            <div class="space-y-4 text-sm">
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Weather & Conditions:</h5>
                <p>Today: Sunny, 25¬∞C (75¬∞F) with clear skies. Low wind speeds (5-10 km/h). High UV index - ensure sunscreen and appropriate head covering. Potential dust risk due to dry conditions.</p>
              </div>
              
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Site Activities:</h5>
                <p>Primary activities today include crane lift operations in Zone 2 and concrete pour in Zone 4. Crane operation expected between 09:30-11:30. Concrete delivery scheduled for 10:00.</p>
              </div>
              
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Equipment:</h5>
                <p>Heavy equipment in use: Mobile crane (Zone 2), Concrete mixer (Zone 4), Forklift operations throughout site, Scaffolding assembly in Zone 1.</p>
              </div>
              
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Key Hazards <span class="text-xs bg-yellow-800 text-yellow-200 px-2 py-0.5 rounded-full ml-2">AI Identified</span>:</h5>
                <ul class="list-disc pl-6 space-y-1">
                  <li>Overhead loads during crane operations - maintain clearance from marked area</li>
                  <li>Trip hazards around concrete pouring operation</li>
                  <li>UV exposure risk - high index today</li>
                  <li>Wind gusts may affect crane operations - monitor conditions continuously</li>
                  <li>Dust risk - respiratory protection may be needed</li>
                </ul>
              </div>
              
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Safety Protocols:</h5>
                <ul class="list-disc pl-6 space-y-1">
                  <li>All personnel must wear required PPE at all times</li>
                  <li>Review and acknowledge lift plan before crane operations begin</li>
                  <li>Maintain radio communication during all lifting operations</li>
                  <li>Stay hydrated - water stations available in Zone 1 and Zone 3</li>
                  <li>Emergency assembly point is at main gate</li>
                </ul>
              </div>
              
              <div>
                <h5 class="text-blue-400 font-medium mb-1">Previous Incidents <span class="text-xs bg-blue-800 text-blue-200 px-2 py-0.5 rounded-full ml-2">Historical Data</span>:</h5>
                <p>Note: Similar weather conditions on April 15th resulted in 1 heat exhaustion incident. Extra water breaks recommended every 45 minutes.</p>
              </div>
            </div>
          </div>
          
          <div class="flex flex-wrap gap-3">
            <button aria-label="Download briefing" title="Download briefing" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              Download
            </button>
            <button aria-label="Copy briefing to clipboard" title="Copy briefing to clipboard" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
              Copy to Clipboard
            </button>
            <button aria-label="Print briefing" title="Print briefing" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
              Print
            </button>
            <button aria-label="Share briefing" title="Share briefing" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>
              Share
            </button>
            <button aria-label="Edit briefing" title="Edit briefing" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
              Edit
            </button>
          </div>
        </div>
        
        <!-- Enhanced Recent Briefings with Cards -->
        <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
          <div class="flex justify-between items-center mb-4">
            <h3 class="font-semibold text-lg">Recent Briefings</h3>
            <button aria-label="View all briefings" title="View all briefings" class="text-sm text-blue-400 hover:text-blue-300 flex items-center">
              View All
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Today's Briefing Card -->
            <div class="bg-gray-750 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-all cursor-pointer">
              <div class="flex justify-between items-start mb-2">
                <h4 class="font-medium">Morning Briefing</h4>
                <span class="text-xs bg-blue-900 text-blue-300 px-2 py-0.5 rounded-full">Today</span>
              </div>
              <p class="text-sm text-gray-400 mb-2">2025-05-21 07:00</p>
              <div class="mb-3">
                <div class="flex items-center text-sm">
                  <span class="text-yellow-500 mr-2">‚ö†Ô∏è</span>
                  <span>Crane lift, Wind advisory</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-gray-400">12 team members</span>
                <button aria-label="Open this briefing" title="Open this briefing" class="text-blue-400 hover:text-blue-300">Open</button>
              </div>
            </div>
            
            <!-- Yesterday's Briefing Card -->
            <div class="bg-gray-750 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-all cursor-pointer">
              <div class="flex justify-between items-start mb-2">
                <h4 class="font-medium">Morning Briefing</h4>
                <span class="text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded-full">Yesterday</span>
              </div>
              <p class="text-sm text-gray-400 mb-2">2025-05-20 07:00</p>
              <div class="mb-3">
                <div class="flex items-center text-sm">
                  <span class="text-red-500 mr-2">üî•</span>
                  <span>Concrete pour, Heat warning</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-gray-400">14 team members</span>
                <button aria-label="Open this briefing" title="Open this briefing" class="text-blue-400 hover:text-blue-300">Open</button>
              </div>
            </div>
            
            <!-- Past Briefing Card -->
            <div class="bg-gray-750 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-all cursor-pointer">
              <div class="flex justify-between items-start mb-2">
                <h4 class="font-medium">Morning Briefing</h4>
                <span class="text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded-full">2 days ago</span>
              </div>
              <p class="text-sm text-gray-400 mb-2">2025-05-19 07:00</p>
              <div class="mb-3">
                <div class="flex items-center text-sm">
                  <span class="text-blue-500 mr-2">üåßÔ∏è</span>
                  <span>Scaffolding, Rain</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-gray-400">15 team members</span>
                <button aria-label="Open this briefing" title="Open this briefing" class="text-blue-400 hover:text-blue-300">Open</button>
              </div>
            </div>
          </div>
          
          <!-- Briefing Stats -->
          <div class="mt-6 flex flex-wrap gap-6 pt-4 border-t border-gray-700">
            <div class="text-center">
              <p class="text-xl font-bold">152</p>
              <p class="text-xs text-gray-400">Total Briefings</p>
            </div>
            <div class="text-center">
              <p class="text-xl font-bold">15</p>
              <p class="text-xs text-gray-400">This Month</p>
            </div>
            <div class="text-center">
              <p class="text-xl font-bold">100%</p>
              <p class="text-xs text-gray-400">Attendance Rate</p>
            </div>
            <div class="text-center">
              <p class="text-xl font-bold">3</p>
              <p class="text-xs text-gray-400">Templates</p>
            </div>
          </div>
        </div>
      </section>
      <!-- Live Alerts Section -->
      <section id="alerts-section" aria-labelledby="alerts-title" class="mb-10 hidden">
        <h2 id="alerts-title" class="text-xl font-semibold mb-4">Live Alerts</h2>
        
        <!-- Alerts Filter Controls -->
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <span class="text-sm">Filter:</span>
            <button aria-label="Show all alerts" title="Show all alerts" class="px-3 py-1 bg-blue-600 text-white rounded text-sm">All</button>
            <button aria-label="Show critical alerts only" title="Show critical alerts only" class="px-3 py-1 bg-gray-700 hover:bg-red-900 text-white rounded text-sm flex items-center">
              <span class="inline-block w-2 h-2 bg-red-500 rounded-full mr-1"></span>
              Critical
            </button>
            <button aria-label="Show moderate alerts only" title="Show moderate alerts only" class="px-3 py-1 bg-gray-700 hover:bg-yellow-900 text-white rounded text-sm flex items-center">
              <span class="inline-block w-2 h-2 bg-yellow-500 rounded-full mr-1"></span>
              Moderate
            </button>
            <button aria-label="Show low alerts only" title="Show low alerts only" class="px-3 py-1 bg-gray-700 hover:bg-green-900 text-white rounded text-sm flex items-center">
              <span class="inline-block w-2 h-2 bg-green-500 rounded-full mr-1"></span>
              Low
            </button>
          </div>
          <div>
            <span class="text-sm mr-2">Auto-refresh:</span>
            <select aria-label="Auto-refresh interval" title="Auto-refresh interval" class="bg-gray-800 border border-gray-700 rounded text-sm py-1 px-2">
              <option value="30">30s</option>
              <option value="60" selected>1m</option>
              <option value="300">5m</option>
              <option value="off">Off</option>
            </select>
          </div>
        </div>
        
        <!-- Alert Cards Row -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
          <div class="bg-gradient-to-r from-red-900 to-red-800 rounded-lg p-6 shadow-lg flex flex-col gap-2 transform transition-all hover:scale-105 cursor-pointer relative">
            <div class="absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full -mt-1 -mr-1 animate-ping"></div>
            <div class="flex items-center gap-2">
              <span class="px-2 py-0.5 rounded bg-red-700 text-white text-xs font-bold">Critical</span>
              <span class="font-semibold">Plant incursion detected</span>
              <span class="ml-auto text-xs text-gray-300">09:12</span>
            </div>
            <div class="text-sm text-gray-100">Unauthorized entry near crane zone. Immediate action required.</div>
            <div class="flex justify-between items-center mt-2 pt-2 border-t border-red-700">
              <span class="text-xs">Zone: East Perimeter</span>
              <div class="flex space-x-1">
                <button aria-label="Acknowledge alert" title="Acknowledge alert" class="bg-red-700 hover:bg-red-600 text-white rounded px-2 py-1 text-xs">Acknowledge</button>
                <button aria-label="View camera" title="View camera" class="bg-gray-700 hover:bg-gray-600 text-white rounded px-2 py-1 text-xs">View Camera</button>
              </div>
            </div>
          </div>
          
          <div class="bg-gradient-to-r from-yellow-900 to-yellow-800 rounded-lg p-6 shadow-lg flex flex-col gap-2 transform transition-all hover:scale-105 cursor-pointer">
            <div class="flex items-center gap-2">
              <span class="px-2 py-0.5 rounded bg-yellow-600 text-white text-xs font-bold">Moderate</span>
              <span class="font-semibold">Unsafe behavior</span>
              <span class="ml-auto text-xs text-gray-300">08:55</span>
            </div>
            <div class="text-sm text-gray-100">Worker not wearing helmet in zone 3.</div>
            <div class="flex justify-between items-center mt-2 pt-2 border-t border-yellow-700">
              <span class="text-xs">Zone: Construction Area</span>
              <div class="flex space-x-1">
                <button aria-label="Acknowledge alert" title="Acknowledge alert" class="bg-yellow-700 hover:bg-yellow-600 text-white rounded px-2 py-1 text-xs">Acknowledge</button>
                <button aria-label="View camera" title="View camera" class="bg-gray-700 hover:bg-gray-600 text-white rounded px-2 py-1 text-xs">View Camera</button>
              </div>
            </div>
          </div>
          
          <div class="bg-gradient-to-r from-green-900 to-green-800 rounded-lg p-6 shadow-lg flex flex-col gap-2 transform transition-all hover:scale-105 cursor-pointer">
            <div class="flex items-center gap-2">
              <span class="px-2 py-0.5 rounded bg-green-700 text-white text-xs font-bold">Low</span>
              <span class="font-semibold">All clear</span>
              <span class="ml-auto text-xs text-gray-300">08:30</span>
            </div>
            <div class="text-sm text-gray-100">No incidents reported in Zone 4.</div>
            <div class="flex justify-between items-center mt-2 pt-2 border-t border-green-700">
              <span class="text-xs">Zone: Storage Area</span>
              <button aria-label="Acknowledge alert" title="Acknowledge alert" class="bg-green-700 hover:bg-green-600 text-white rounded px-2 py-1 text-xs">Acknowledge</button>
            </div>
          </div>
        </div>
        
        <!-- Alerts Count Summary -->
        <div class="flex justify-between items-center mb-6 bg-gray-800 p-3 rounded-lg">
          <div class="flex space-x-6">
            <div class="flex items-center">
              <span class="inline-block w-3 h-3 bg-red-500 rounded-full mr-2"></span>
              <span class="text-sm"><strong>1</strong> Critical</span>
            </div>
            <div class="flex items-center">
              <span class="inline-block w-3 h-3 bg-yellow-500 rounded-full mr-2"></span>
              <span class="text-sm"><strong>1</strong> Moderate</span>
            </div>
            <div class="flex items-center">
              <span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-2"></span>
              <span class="text-sm"><strong>1</strong> Low</span>
            </div>
          </div>
          <span class="text-xs text-gray-400">Last updated: 09:15</span>
        </div>
        
        <!-- Visual Feed with Camera Controls -->
        <div class="bg-gray-800 rounded-lg p-6 shadow">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Visual Feed (Live)</h3>
            <div class="flex items-center">
              <select aria-label="Select camera feed" title="Select camera feed" class="bg-gray-700 border border-gray-600 rounded text-sm py-1 px-2 mr-2">
                <option value="cam1">Main Entrance</option>
                <option value="cam2">Construction Zone</option>
                <option value="cam3">East Perimeter</option>
                <option value="cam4">Storage Area</option>
              </select>
              <span class="flex items-center text-red-500 text-sm">
                <span class="inline-block w-2 h-2 bg-red-500 rounded-full mr-1 animate-pulse"></span>
                LIVE
              </span>
            </div>
          </div>
          
          <div class="relative">
            <div class="w-full aspect-video bg-gray-900 rounded overflow-hidden">
              <iframe class="w-full h-full" src="https://www.youtube.com/embed/58x23pgjbTI?autoplay=1&mute=1" title="Live security camera feed" frameborder="0" allowfullscreen></iframe>
            </div>
            
            <!-- Camera Controls Overlay -->
            <div class="absolute bottom-4 right-4 bg-black bg-opacity-60 p-2 rounded flex space-x-2">
              <button aria-label="Take screenshot" title="Take screenshot" class="bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
              </button>
              <button aria-label="Toggle microphone" title="Toggle microphone" class="bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                </svg>
              </button>
              <button aria-label="Toggle speaker" title="Toggle speaker" class="bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                </svg>
              </button>
              <button aria-label="Pan and zoom controls" title="Pan and zoom controls" class="bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122" />
                </svg>
              </button>
            </div>
            
            <!-- Motion Detection Indicator -->
            <div class="absolute top-4 left-4 bg-red-800 bg-opacity-75 px-3 py-1 rounded-full flex items-center">
              <span class="inline-block w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"></span>
              <span class="text-xs text-white">Motion Detected</span>
            </div>
            
            <!-- Time Stamp -->
            <div class="absolute top-4 right-4 bg-black bg-opacity-60 px-2 py-1 rounded text-xs text-white">
              <span id="camera-timestamp">2025-05-21 09:15:42</span>
            </div>
          </div>
          
          <!-- Camera Feed Timeline -->
          <div class="mt-4 pt-3 border-t border-gray-700">
            <div class="flex justify-between items-center mb-2">
              <h4 class="text-sm font-medium">Timeline</h4>
              <div class="text-xs text-gray-400">
                <span>09:00</span>
                <span class="mx-2">-</span>
                <span>09:15</span>
              </div>
            </div>
            <div class="relative h-6 bg-gray-900 rounded">
              <div class="absolute inset-y-0 left-0 bg-gray-700 w-3/4 rounded"></div>
              <div class="absolute inset-y-0 left-[30%] w-1 bg-red-500"></div>
              <div class="absolute inset-y-0 left-[45%] w-1 bg-red-500"></div>
              <div class="absolute inset-y-0 left-[70%] w-1 bg-red-500"></div>
              <div class="absolute inset-y-0 left-[74%] right-0 bg-gray-800"></div>
              <div class="absolute top-1/2 transform -translate-y-1/2 left-3/4 w-3 h-3 bg-red-500 rounded-full"></div>
            </div>
            <div class="flex justify-between text-xs text-gray-400 mt-1">
              <button aria-label="Go back 15 minutes" title="Go back 15 minutes" class="hover:text-white">-15m</button>
              <button aria-label="Go back 5 minutes" title="Go back 5 minutes" class="hover:text-white">-5m</button>
              <button aria-label="Play/Pause" title="Play/Pause" class="hover:text-white">‚èØÔ∏è</button>
              <button aria-label="Live feed" title="Live feed" class="text-red-400 hover:text-red-300">LIVE</button>
            </div>
          </div>
        </div>
      </section>
      <!-- Enhanced Reports Section with Advanced Data Visualization and Analytics -->
      <section id="reports-section" aria-labelledby="reports-title" class="mb-10 hidden">
        <div class="flex items-center justify-between mb-4">
          <h2 id="reports-title" class="text-xl font-semibold">Safety Analytics & Reports</h2>
          <div class="flex items-center gap-3">
            <div class="flex items-center text-sm">
              <span class="text-gray-400 mr-2">Report Period:</span>
              <select aria-label="Select report period" title="Select report period" class="bg-gray-800 border border-gray-700 rounded text-sm py-1 px-2">
                <option value="day">Last 24 Hours</option>
                <option value="week" selected>Last 7 Days</option>
                <option value="month">Last 30 Days</option>
                <option value="quarter">Last Quarter</option>
                <option value="year">Last Year</option>
                <option value="custom">Custom Range</option>
              </select>
            </div>
            <button aria-label="Export all reports" title="Export all reports" class="text-sm px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              Export All
            </button>
          </div>
        </div>
        
        <!-- Report Dashboard with Key Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
          <div class="bg-gradient-to-br from-green-900 to-green-800 rounded-lg p-4 shadow-lg flex flex-col justify-between relative overflow-hidden">
            <div class="absolute top-0 right-0 w-24 h-24 rounded-full bg-green-700 opacity-20 -mt-10 -mr-10"></div>
            <h3 class="text-sm font-semibold mb-2 text-green-300">Safety Score</h3>
            <div class="flex items-end gap-2">
              <span class="text-3xl font-bold">94</span>
              <span class="text-sm text-green-300 pb-1">/100</span>
            </div>
            <div class="flex items-center text-xs mt-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
              <span class="text-green-300">+2% from last period</span>
            </div>
          </div>
          
          <div class="bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg p-4 shadow-lg flex flex-col justify-between relative overflow-hidden">
            <div class="absolute top-0 right-0 w-24 h-24 rounded-full bg-blue-700 opacity-20 -mt-10 -mr-10"></div>
            <h3 class="text-sm font-semibold mb-2 text-blue-300">Incident-Free Days</h3>
            <div class="flex items-end gap-2">
              <span class="text-3xl font-bold">30</span>
              <span class="text-sm text-blue-300 pb-1">days</span>
            </div>
            <div class="flex items-center text-xs mt-2">
              <span class="text-blue-300">Personal best: 45 days</span>
            </div>
          </div>
          
          <div class="bg-gradient-to-br from-yellow-900 to-yellow-800 rounded-lg p-4 shadow-lg flex flex-col justify-between relative overflow-hidden">
            <div class="absolute top-0 right-0 w-24 h-24 rounded-full bg-yellow-700 opacity-20 -mt-10 -mr-10"></div>
            <h3 class="text-sm font-semibold mb-2 text-yellow-300">Average Risk Level</h3>
            <div class="flex items-end gap-2">
              <span class="text-3xl font-bold">3.1</span>
              <span class="text-sm text-yellow-300 pb-1">/10</span>
            </div>
            <div class="flex items-center text-xs mt-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
              <span class="text-green-300">-1.2 from last period</span>
            </div>
          </div>
          
          <div class="bg-gradient-to-br from-purple-900 to-purple-800 rounded-lg p-4 shadow-lg flex flex-col justify-between relative overflow-hidden">
            <div class="absolute top-0 right-0 w-24 h-24 rounded-full bg-purple-700 opacity-20 -mt-10 -mr-10"></div>
            <h3 class="text-sm font-semibold mb-2 text-purple-300">Training Compliance</h3>
            <div class="flex items-end gap-2">
              <span class="text-3xl font-bold">98%</span>
            </div>
            <div class="flex items-center text-xs mt-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
              <span class="text-green-300">+5% from last period</span>
            </div>
          </div>
        </div>
        
        <!-- Risk Analytics and Report Generator -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
          <!-- Advanced Risk Trends Chart with Interactive Controls -->
          <div class="lg:col-span-2 bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold">Risk Trend Analysis</h3>
              <div class="flex items-center gap-2">
                <div class="flex items-center gap-1 text-xs bg-gray-700 rounded-full px-2 py-1">
                  <span class="inline-block w-2 h-2 bg-blue-500 rounded-full"></span>
                  <span>Weather</span>
                </div>
                <div class="flex items-center gap-1 text-xs bg-gray-700 rounded-full px-2 py-1">
                  <span class="inline-block w-2 h-2 bg-green-500 rounded-full"></span>
                  <span>PPE</span>
                </div>
                <div class="flex items-center gap-1 text-xs bg-gray-700 rounded-full px-2 py-1">
                  <span class="inline-block w-2 h-2 bg-yellow-500 rounded-full"></span>
                  <span>Equipment</span>
                </div>
                <div class="flex items-center gap-1 text-xs bg-gray-700 rounded-full px-2 py-1">
                  <span class="inline-block w-2 h-2 bg-red-500 rounded-full"></span>
                  <span>Total</span>
                </div>
              </div>
            </div>
            
            <div class="w-full h-64 bg-gray-900 rounded p-4 relative">
              <!-- Interactive Risk Trend Chart with Multiple Datasets -->
              <div class="flex flex-col h-full">
                <!-- Y-axis labels -->
                <div class="absolute left-0 top-0 h-full flex flex-col justify-between py-2 text-xs text-gray-400">
                  <span>10</span>
                  <span>7.5</span>
                  <span>5.0</span>
                  <span>2.5</span>
                  <span>0</span>
                </div>
                
                <!-- Chart grid lines -->
                <div class="absolute left-8 top-0 right-4 bottom-6 flex flex-col justify-between pointer-events-none">
                  <div class="border-b border-gray-800 w-full h-0"></div>
                  <div class="border-b border-gray-800 w-full h-0"></div>
                  <div class="border-b border-gray-800 w-full h-0"></div>
                  <div class="border-b border-gray-800 w-full h-0"></div>
                  <div class="border-b border-gray-800 w-full h-0"></div>
                </div>
                
                <!-- Chart lines -->
                <div class="ml-8 h-full flex items-end space-x-3">
                  <!-- Day columns with multiple risk factors -->
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <!-- Total risk line point -->
                    <div class="absolute bottom-[21%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    
                    <!-- Column segments for each risk factor -->
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[5%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[3%] w-full"></div>
                        <div class="bg-yellow-500 h-[13%] w-full rounded-b"></div>
                      </div>
                    </div>
                    
                    <!-- Hover tooltip -->
                    <div class="opacity-0 group-hover:opacity-100 absolute -top-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-xs text-white p-2 rounded whitespace-nowrap z-30">
                      <p class="font-semibold">May 15, 2025</p>
                      <p>Total Risk: <span class="font-medium text-red-300">2.1/10</span></p>
                      <p>Weather: <span class="text-blue-300">0.5</span> | PPE: <span class="text-green-300">0.3</span> | Equipment: <span class="text-yellow-300">1.3</span></p>
                    </div>
                    
                    <!-- X-axis label -->
                    <div class="text-center text-xs text-gray-400 mt-2">15</div>
                  </div>
                  
                  <!-- Additional day columns (abbreviated for clarity) -->
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[15%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[3%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[2%] w-full"></div>
                        <div class="bg-yellow-500 h-[10%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">16</div>
                  </div>
                  
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[35%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[12%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[5%] w-full"></div>
                        <div class="bg-yellow-500 h-[18%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">17</div>
                  </div>
                  
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[40%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[10%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[8%] w-full"></div>
                        <div class="bg-yellow-500 h-[22%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">18</div>
                  </div>
                  
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[55%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[20%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[10%] w-full"></div>
                        <div class="bg-yellow-500 h-[25%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">19</div>
                  </div>
                  
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[35%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[15%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[5%] w-full"></div>
                        <div class="bg-yellow-500 h-[15%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">20</div>
                  </div>
                  
                  <div class="flex-1 flex flex-col justify-end relative group h-full">
                    <div class="absolute bottom-[21%] left-1/2 w-3 h-3 bg-red-500 rounded-full transform -translate-x-1/2 z-20 cursor-pointer"></div>
                    <div class="w-full flex items-end justify-center">
                      <div class="w-8">
                        <div class="bg-blue-500 h-[8%] w-full rounded-t"></div>
                        <div class="bg-green-500 h-[3%] w-full"></div>
                        <div class="bg-yellow-500 h-[10%] w-full rounded-b"></div>
                      </div>
                    </div>
                    <div class="text-center text-xs text-gray-400 mt-2">21</div>
                  </div>
                </div>
              </div>
              
              <!-- Trend Line -->
              <div class="absolute top-0 left-8 right-4 bottom-6 pointer-events-none">
                <svg class="w-full h-full">
                  <path d="M20,180 L60,190 L100,130 L140,120 L180,90 L220,130 L260,180" stroke="rgba(239, 68, 68, 0.5)" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="5,5" />
                </svg>
              </div>
            </div>
            
            <!-- Chart Controls -->
            <div class="flex justify-between mt-3">
              <div class="flex gap-2">
                <button aria-label="Line view" title="Line view" class="bg-blue-600 text-white text-xs px-3 py-1 rounded">Line</button>
                <button aria-label="Bar view" title="Bar view" class="bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1 rounded">Bar</button>
                <button aria-label="Area view" title="Area view" class="bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1 rounded">Area</button>
              </div>
              <div class="flex items-center gap-3">
                <label class="text-xs text-gray-400">Compare with:</label>
                <select aria-label="Compare with previous period" title="Compare with previous period" class="bg-gray-700 border border-gray-600 text-xs rounded px-2 py-1">
                  <option value="none">No comparison</option>
                  <option value="prev-week">Previous Week</option>
                  <option value="prev-month">Previous Month</option>
                  <option value="prev-quarter">Previous Quarter</option>
                </select>
              </div>
            </div>
          </div>
          
          <!-- Report Generator Panel -->
          <div class="bg-gradient-to-br from-blue-900 to-indigo-900 rounded-lg p-6 shadow-lg relative overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-blue-500 rounded-full opacity-10 -mr-10 -mt-10"></div>
            <h3 class="font-semibold mb-4 relative z-10">Generate Reports</h3>
            
            <div class="space-y-4">
              <!-- Report Type Selection -->
              <div>
                <label for="report-type" class="block text-sm font-medium mb-1">Report Type</label>
                <select id="report-type" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="daily">Daily Safety Summary</option>
                  <option value="incident" selected>Incident Analysis</option>
                  <option value="compliance">Compliance Assessment</option>
                  <option value="risk">Risk Factor Report</option>
                  <option value="custom">Custom Report</option>
                </select>
              </div>
              
              <!-- Date Range -->
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label for="report-start" class="block text-sm font-medium mb-1">Start Date</label>
                  <input type="date" id="report-start" value="2025-05-15" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" />
                </div>
                <div>
                  <label for="report-end" class="block text-sm font-medium mb-1">End Date</label>
                  <input type="date" id="report-end" value="2025-05-21" class="w-full rounded bg-gray-900 bg-opacity-50 border border-blue-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" />
                </div>
              </div>
              
              <!-- Include Options -->
              <div>
                <label class="block text-sm font-medium mb-2">Include in Report</label>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="include-charts" checked class="rounded text-blue-600 focus:ring-blue-400">
                    <label for="include-charts" class="text-sm">Charts & Visualizations</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="include-incidents" checked class="rounded text-blue-600 focus:ring-blue-400">
                    <label for="include-incidents" class="text-sm">Incident Records</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="include-actions" checked class="rounded text-blue-600 focus:ring-blue-400">
                    <label for="include-actions" class="text-sm">Recommended Actions</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="include-photos" class="rounded text-blue-600 focus:ring-blue-400">
                    <label for="include-photos" class="text-sm">Photo Documentation</label>
                  </div>
                </div>
              </div>
              
              <!-- Recent Reports -->
              <div class="border-t border-blue-800 pt-3 mt-4">
                <h4 class="text-sm font-medium mb-2">Recent Reports</h4>
                <ul class="text-sm space-y-2">
                  <li class="flex items-center justify-between">
                    <span class="text-blue-300">Daily Summary (May 20)</span>
                    <button aria-label="Download daily summary report" title="Download daily summary report" class="text-xs bg-blue-800 hover:bg-blue-700 py-0.5 px-2 rounded">
                      <svg class="w-3 h-3 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    </button>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-blue-300">Weekly Risk Assessment</span>
                    <button aria-label="Download weekly risk assessment report" title="Download weekly risk assessment report" class="text-xs bg-blue-800 hover:bg-blue-700 py-0.5 px-2 rounded">
                      <svg class="w-3 h-3 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    </button>
                  </li>
                </ul>
              </div>
              
              <!-- Generate Button -->
              <button type="button" class="w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold px-6 py-3 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-400 mt-2 flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                Generate Report
              </button>
            </div>
          </div>
        </div>
        
        <!-- Enhanced Incident Database with Detailed Filtering and Analysis -->
        <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg">
          <div class="flex flex-wrap justify-between items-center mb-4">
            <h3 class="font-semibold text-lg">Incident Database</h3>
            <div class="flex items-center gap-3 mt-2 sm:mt-0">
              <button aria-label="Add new incident" title="Add new incident" class="text-sm px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                New
              </button>
              <button aria-label="Filter incidents" title="Filter incidents" class="text-sm px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>
                Filter
              </button>
              <button aria-label="Export incidents report" title="Export incidents report" class="text-sm px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                Export
              </button>
            </div>
          </div>
          
          <!-- Search and Filter Controls -->
          <div class="flex flex-wrap gap-3 mb-4">
            <div class="flex-1 min-w-[200px]">
              <div class="relative">
                <input type="text" placeholder="Search incidents..." class="w-full rounded bg-gray-900 border border-gray-700 pl-10 pr-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" />
                <svg class="w-5 h-5 absolute left-3 top-2.5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              </div>
            </div>
            <div class="flex gap-2">
              <select aria-label="Filter by severity" title="Filter by severity" class="rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="">All Severities</option>
                <option value="critical">Critical</option>
                <option value="moderate">Moderate</option>
                <option value="low">Low</option>
              </select>
              <select aria-label="Filter by location" title="Filter by location" class="rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="">All Locations</option>
                <option value="zone1">Zone 1</option>
                <option value="zone2">Zone 2</option>
                <option value="zone3">Zone 3</option>
                <option value="zone4">Zone 4</option>
              </select>
            </div>
          </div>
          
          <!-- Enhanced Incident Table -->
          <div class="bg-gray-900 rounded-lg border border-gray-800 overflow-hidden">
            <table class="min-w-full">
              <thead>
                <tr class="bg-gray-800 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                  <th scope="col" class="px-6 py-3">Date/Time</th>
                  <th scope="col" class="px-6 py-3">Description</th>
                  <th scope="col" class="px-6 py-3">Location</th>
                  <th scope="col" class="px-6 py-3">Severity</th>
                  <th scope="col" class="px-6 py-3">Status</th>
                  <th scope="col" class="px-6 py-3 text-right">Actions</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-800">
                <tr class="hover:bg-gray-850">
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <div>2025-05-20 14:32</div>
                    <div class="text-xs text-gray-500">2d ago</div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div>Worker slip on wet surface</div>
                    <div class="text-xs text-gray-500">Reported by: M. Wilson</div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Zone 2</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900 text-yellow-300">
                      Moderate
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-900 text-blue-300">
                      Investigation
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <button aria-label="View incident details" title="View incident details" class="text-blue-400 hover:text-blue-300 mr-3">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    </button>
                    <button aria-label="Edit incident record" title="Edit incident record" class="text-gray-400 hover:text-gray-300">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    </button>
                  </td>
                </tr>
                <tr class="hover:bg-gray-850">
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <div>2025-05-19 09:17</div>
                    <div class="text-xs text-gray-500">3d ago</div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div>Equipment strike on support column</div>
                    <div class="text-xs text-gray-500">Reported by: E. Johnson</div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Zone 1</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-900 text-red-300">
                      Critical
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-300">
                      Resolved
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <button aria-label="View incident details" title="View incident details" class="text-blue-400 hover:text-blue-300 mr-3">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    </button>
                    <button aria-label="Edit incident record" title="Edit incident record" class="text-gray-400 hover:text-gray-300">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    </button>
                  </td>
                </tr>
                <tr class="hover:bg-gray-850">
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <div>2025-05-18 11:42</div>
                    <div class="text-xs text-gray-500">4d ago</div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div>Near miss: Tool dropped from scaffold</div>
                    <div class="text-xs text-gray-500">Reported by: J. Smith</div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Zone 4</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-300">
                      Low
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-300">
                      Resolved
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <button aria-label="View incident details" title="View incident details" class="text-blue-400 hover:text-blue-300 mr-3">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    </button>
                    <button aria-label="Edit incident record" title="Edit incident record" class="text-gray-400 hover:text-gray-300">
                      <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- Pagination Controls -->
          <div class="flex items-center justify-between mt-4">
            <div class="flex-1 flex justify-between sm:hidden">
              <button aria-label="Previous page" title="Previous page" class="relative inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-white hover:bg-gray-700">
                Previous
              </button>
              <button aria-label="Next page" title="Next page" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-white hover:bg-gray-700">
                Next
              </button>
            </div>
            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
              <div>
                <p class="text-sm text-gray-400">
                  Showing <span class="font-medium">1</span> to <span class="font-medium">3</span> of <span class="font-medium">12</span> incidents
                </p>
              </div>
              <div>
                <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                  <button aria-label="Previous page" title="Previous page" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                  </button>
                  <button aria-label="Page 1" title="Page 1" aria-current="page" class="relative inline-flex items-center px-4 py-2 border border-gray-700 bg-blue-800 text-sm font-medium text-white">
                    1
                  </button>
                  <button aria-label="Page 2" title="Page 2" class="relative inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700">
                    2
                  </button>
                  <button aria-label="Page 3" title="Page 3" class="relative hidden md:inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700">
                    3
                  </button>
                  <span class="relative inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400">
                    ...
                  </span>
                  <button aria-label="Page 4" title="Page 4" class="relative hidden md:inline-flex items-center px-4 py-2 border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700">
                    4
                  </button>
                  <button aria-label="Next page" title="Next page" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-700 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                  </button>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Settings Section -->
      <section id="settings-section" aria-labelledby="settings-title" class="mb-10 hidden">
        <h2 id="settings-title" class="text-xl font-semibold mb-4">Settings</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- User Preferences Panel -->
          <div class="bg-gray-800 rounded-lg p-6 shadow">
            <h3 class="font-semibold mb-4">User Preferences</h3>
            <div class="space-y-4">
              <div>
                <label for="language" class="block text-sm font-medium mb-1">Language</label>
                <select id="language" name="language" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="en">English</option>
                  <option value="es">Spanish</option>
                  <option value="fr">French</option>
                  <option value="de">German</option>
                </select>
              </div>
              
              <div>
                <label for="timezone" class="block text-sm font-medium mb-1">Time Zone</label>
                <select id="timezone" name="timezone" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="utc">UTC</option>
                  <option value="est" selected>Eastern Time (ET)</option>
                  <option value="cst">Central Time (CT)</option>
                  <option value="mst">Mountain Time (MT)</option>
                  <option value="pst">Pacific Time (PT)</option>
                </select>
              </div>
              
              <div class="space-y-3">
                <h4 class="text-sm font-medium">Theme & Display</h4>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="darkmode" class="rounded text-blue-600 focus:ring-blue-400" checked>
                    <label for="darkmode" class="text-sm">Dark mode</label>
                  </div>
                  <div class="flex items-center">
                    <span class="w-6 h-6 bg-blue-500 rounded-full cursor-pointer border-2 border-white"></span>
                    <span class="w-6 h-6 bg-purple-500 rounded-full cursor-pointer -ml-1 border-2 border-transparent hover:border-white"></span>
                    <span class="w-6 h-6 bg-green-500 rounded-full cursor-pointer -ml-1 border-2 border-transparent hover:border-white"></span>
                    <span class="w-6 h-6 bg-red-500 rounded-full cursor-pointer -ml-1 border-2 border-transparent hover:border-white"></span>
                  </div>
                </div>
                
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="compact-mode" class="rounded text-blue-600 focus:ring-blue-400">
                    <label for="compact-mode" class="text-sm">Compact mode</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Notification Settings Panel -->
          <div class="bg-gray-800 rounded-lg p-6 shadow">
            <h3 class="font-semibold mb-4">Notification Settings</h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <input type="checkbox" id="enable-notif" class="rounded text-blue-600 focus:ring-blue-400" checked>
                  <label for="enable-notif" class="text-sm">Enable notifications</label>
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium mb-2">Alert Level Notifications</label>
                <div class="space-y-2 pl-2">
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="notif-critical" class="rounded text-red-600 focus:ring-red-400" checked>
                    <label for="notif-critical" class="text-sm">Critical alerts</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="notif-moderate" class="rounded text-yellow-600 focus:ring-yellow-400" checked>
                    <label for="notif-moderate" class="text-sm">Moderate alerts</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input type="checkbox" id="notif-low" class="rounded text-green-600 focus:ring-green-400">
                    <label for="notif-low" class="text-sm">Low alerts</label>
                  </div>
                </div>
              </div>
              
              <div>
                <label for="notif-method" class="block text-sm font-medium mb-1">Notification Method</label>
                <select id="notif-method" name="notif-method" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="app">App only</option>
                  <option value="email" selected>Email + App</option>
                  <option value="sms">SMS + App</option>
                  <option value="all">All methods</option>
                </select>
              </div>
              
              <div>
                <label for="notif-frequency" class="block text-sm font-medium mb-1">Notification Frequency</label>
                <select id="notif-frequency" name="notif-frequency" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="immediate">Immediate</option>
                  <option value="1min">1 minute batches</option>
                  <option value="5min">5 minute batches</option>
                  <option value="15min">15 minute batches</option>
                  <option value="hourly">Hourly summary</option>
                </select>
              </div>
            </div>
          </div>
          
          <!-- Device Settings Panel -->
          <div class="bg-gray-800 rounded-lg p-6 shadow">
            <h3 class="font-semibold mb-4">Device Settings</h3>
            <div class="space-y-4">
              <div>
                <label for="camera-quality" class="block text-sm font-medium mb-1">Camera Stream Quality</label>
                <select id="camera-quality" name="camera-quality" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="auto">Auto (Based on Network)</option>
                  <option value="high" selected>High (1080p)</option>
                  <option value="medium">Medium (720p)</option>
                  <option value="low">Low (480p)</option>
                </select>
              </div>
              
              <div>
                <label for="data-refresh" class="block text-sm font-medium mb-1">Data Auto-Refresh Interval</label>
                <select id="data-refresh" name="data-refresh" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <option value="10">Every 10 seconds</option>
                  <option value="30" selected>Every 30 seconds</option>
                  <option value="60">Every minute</option>
                  <option value="300">Every 5 minutes</option>
                </select>
              </div>
              
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <input type="checkbox" id="offline-mode" class="rounded text-blue-600 focus:ring-blue-400">
                  <label for="offline-mode" class="text-sm">Enable offline mode</label>
                </div>
              </div>
              
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <input type="checkbox" id="data-saver" class="rounded text-blue-600 focus:ring-blue-400">
                  <label for="data-saver" class="text-sm">Data saver mode</label>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Account Settings Panel -->
          <div class="bg-gray-800 rounded-lg p-6 shadow">
            <h3 class="font-semibold mb-4">Account Settings</h3>
            <div class="space-y-4">
              <div class="flex items-center gap-4">
                <img src="https://loremfaces.net/96/id/1.jpg" alt="User avatar" class="w-16 h-16 rounded-full" />
                <div>
                  <p class="font-medium">John Smith</p>
                  <p class="text-sm text-gray-400">Safety Supervisor</p>
                  <button aria-label="Change profile picture" title="Change profile picture" class="text-blue-400 hover:text-blue-300 text-sm mt-1">Change picture</button>
                </div>
              </div>
              
              <div>
                <label for="user-email" class="block text-sm font-medium mb-1">Email Address</label>
                <input id="user-email" type="email" value="john.smith@example.com" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" />
              </div>
              
              <div>
                <label for="user-phone" class="block text-sm font-medium mb-1">Phone Number</label>
                <input id="user-phone" type="tel" value="+1 (555) 123-4567" class="w-full rounded bg-gray-900 border border-gray-700 px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400" />
              </div>
              
              <div class="pt-2">
                <button aria-label="Change password" title="Change password" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Change Password</button>
                <button aria-label="Save changes" title="Save changes" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded ml-2">Save Changes</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Tooltips (populated by JS or static for now) -->
  <div id="tooltips-root"></div>

  <!-- Storyboard Modal (hidden by default) -->
  <div id="storyboardModal" class="hidden fixed inset-0 z-50 bg-black bg-opacity-60 flex items-center justify-center">
    <div class="bg-gray-900 rounded-lg shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto p-8 relative">
      <button id="closeStoryboard" class="absolute top-4 right-4 text-gray-400 hover:text-white" aria-label="Close storyboard">&times;</button>
      <h2 class="text-2xl font-bold mb-4 flex items-center gap-2"><span>üé¨</span> Scenarios</h2>
      <!-- Scenarios content will be populated here -->
      <div class="space-y-6">
        <div class="bg-gray-800 rounded p-4">
          <h3 class="font-semibold text-lg mb-1">Investigate Temperature Spike</h3>
          <ul class="text-sm mb-2">
            <li><strong>Personas:</strong> Supervisor, Operator</li>
            <li><strong>Goal:</strong> Identify and mitigate overheating risk</li>
            <li><strong>Steps:</strong> Review alert ‚Üí Check timeline ‚Üí Generate briefing</li>
            <li><strong>AI Interactions:</strong> Model prediction, override option</li>
            <li><strong>Outcome:</strong> Risk reduced, incident logged</li>
            <li><strong>Alt Path:</strong> Alert ignored, system escalates</li>
          </ul>
          <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded" onclick="introJs().start()">Try Scenario</button>
        </div>
        <!-- Add more scenarios as needed -->
      </div>
    </div>
  </div>

  <!-- Architecture Diagram Modal (hidden by default) -->
  <div id="archModal" class="hidden fixed inset-0 z-50 bg-black bg-opacity-60 flex items-center justify-center">
    <div class="bg-gray-900 rounded-lg shadow-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto p-8 relative">
      <button id="closeArch" class="absolute top-4 right-4 text-gray-400 hover:text-white" aria-label="Close architecture diagram">&times;</button>
      <h2 class="text-2xl font-bold mb-4">Proposed High-Level Architecture for Safety Supervisor Assistant</h2>
      <!-- Placeholder for Azure architecture diagram -->
      <div class="flex flex-col md:flex-row gap-8">
        <div class="flex-1 flex items-center justify-center min-h-[300px] bg-gradient-to-br from-blue-900 to-gray-800 rounded-lg shadow-inner">
          <span class="text-gray-400">[Azure Architecture Diagram Here]</span>
        </div>
        <div class="flex-1">
          <h3 class="font-semibold mb-2">Component Justification</h3>
          <table class="w-full text-sm text-left border-separate border-spacing-y-2">
            <thead>
              <tr class="text-gray-300">
                <th>Component</th>
                <th>Role</th>
                <th>Justification</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Azure IoT Hub</td>
                <td>Ingest Edge Data</td>
                <td>Supports MQTT/OPC UA, scalable per-site ingestion</td>
              </tr>
              <tr>
                <td>Azure Stream Analytics</td>
                <td>Real-Time Data Processing</td>
                <td>Low-latency filtering, correlation, routing</td>
              </tr>
              <tr>
                <td>Azure Fabric</td>
                <td>Global Situational Awareness</td>
                <td>Open data layer for analytics, Copilot readiness</td>
              </tr>
              <tr>
                <td>Azure AI Studio</td>
                <td>Model Orchestration</td>
                <td>Trains, manages, explains AI models</td>
              </tr>
              <tr>
                <td>Azure Arc</td>
                <td>Hybrid Governance</td>
                <td>Consistent management across cloud/edge/on-prem</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="mt-6 text-xs text-gray-500">Icons: Microsoft Azure official icon set. Data flow: blue. Config flow: purple.</div>
    </div>
  </div>

  <!-- JS for modals and tooltips (to be implemented) -->
  <script>
    // Profile dropdown toggle
    document.getElementById('profileBtn').addEventListener('click', function() {
      const menu = document.getElementById('profileMenu');
      menu.classList.toggle('hidden');
    });
    // Storyboard modal toggle
    document.getElementById('storyboardBtn').addEventListener('click', function() {
      document.getElementById('storyboardModal').classList.remove('hidden');
    });
    document.getElementById('closeStoryboard').addEventListener('click', function() {
      document.getElementById('storyboardModal').classList.add('hidden');
    });
    // Architecture modal toggle
    document.getElementById('archBtn').addEventListener('click', function() {
      document.getElementById('archModal').classList.remove('hidden');
    });
    document.getElementById('closeArch').addEventListener('click', function() {
      document.getElementById('archModal').classList.add('hidden');
    });
    // Close dropdowns/modals on outside click
    document.addEventListener('click', function(event) {
      if (!event.target.closest('#profileBtn') && !event.target.closest('#profileMenu')) {
        document.getElementById('profileMenu').classList.add('hidden');
      }
    });
    // Sidebar navigation interactivity
    const navLinks = [
      { id: 'dashboard', section: 'dashboard-section' },
      { id: 'briefings', section: 'briefings-section' },
      { id: 'alerts', section: 'alerts-section' },
      { id: 'reports', section: 'reports-section' },
      { id: 'settings', section: 'settings-section' }
    ];
    navLinks.forEach(link => {
      document.querySelector(`a[href="#${link.id}"]`).addEventListener('click', function(e) {
        e.preventDefault();
        navLinks.forEach(l => {
          document.getElementById(l.section).classList.add('hidden');
        });
        document.getElementById(link.section).classList.remove('hidden');
      });
    });
    
    // Connect settings panel darkmode toggle with theme toggle
    document.addEventListener('DOMContentLoaded', function() {
      const darkModeCheckbox = document.getElementById('darkmode');
      if (darkModeCheckbox) {
        darkModeCheckbox.addEventListener('change', function() {
          if (this.checked !== document.body.classList.contains('bg-gray-950')) {
            document.getElementById('theme-toggle').click();
          }
        });
      }
    });

    // Real-Time Clock
    setInterval(() => {
      const clock = document.getElementById('clock');
      const cameraTimestamp = document.getElementById('camera-timestamp');
      const now = new Date();
      
      if (clock) {
        clock.textContent = now.toLocaleTimeString();
      }
      
      if (cameraTimestamp) {
        const formattedDate = now.getFullYear() + '-' + 
                             String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                             String(now.getDate()).padStart(2, '0');
        const formattedTime = String(now.getHours()).padStart(2, '0') + ':' + 
                             String(now.getMinutes()).padStart(2, '0') + ':' + 
                             String(now.getSeconds()).padStart(2, '0');
        cameraTimestamp.textContent = formattedDate + ' ' + formattedTime;
      }
    }, 1000);

    // Collapsible Panel
    document.querySelectorAll('.toggle-btn').forEach(button => {
      button.addEventListener('click', () => {
        const panel = button.closest('.panel');
        const content = panel.querySelector('.content');
        content.classList.toggle('hidden');
      });
    });
    
    // Briefings Template Buttons
    document.querySelectorAll('.template-btn').forEach(button => {
      button.addEventListener('click', function() {
        // Remove active class from all template buttons
        document.querySelectorAll('.template-btn').forEach(btn => {
          btn.classList.remove('border-blue-400', 'border-2');
          btn.classList.add('bg-blue-700', 'bg-opacity-30');
        });
        
        // Add active class to clicked button
        this.classList.add('border-blue-400', 'border-2');
        this.classList.remove('bg-blue-700', 'bg-opacity-30');
        this.classList.add('bg-blue-600', 'bg-opacity-50');
        
        // Here we would normally load the template data
        const templateType = this.textContent.trim();
        console.log(`Loading ${templateType} template...`);
        
        // Just for demo - set form values based on template
        if (templateType.includes('High-Risk')) {
          document.getElementById('hazard-prediction').checked = true;
          document.getElementById('prev-incidents').checked = true;
          document.getElementById('hazards').value = 'Fall hazards, Heavy equipment';
          document.getElementById('briefing-target').value = 'all';
        } else if (templateType.includes('Confined Space')) {
          document.getElementById('hazard-prediction').checked = true;
          document.getElementById('prev-incidents').checked = true;
          document.getElementById('hazards').value = 'Oxygen deficiency, Toxic gases';
          document.getElementById('briefing-target').value = 'all';
        }
      });
    });
    
    // Briefings weather icon selection
    document.querySelectorAll('.weather-icons button').forEach(button => {
      button.addEventListener('click', function() {
        // Remove active class from all weather buttons
        document.querySelectorAll('.weather-icons button').forEach(btn => {
          btn.classList.remove('bg-blue-700');
        });
        
        // Add active class to clicked button
        this.classList.add('bg-blue-700');
        
        // Update the weather input field
        const weatherEmoji = this.textContent.trim();
        let weatherText = '';
        
        switch(weatherEmoji) {
          case '‚òÄÔ∏è':
            weatherText = 'Sunny, 75¬∞F';
            break;
          case '‚õÖ':
            weatherText = 'Partly cloudy, 70¬∞F';
            break;
          case 'üåßÔ∏è':
            weatherText = 'Rainy, 65¬∞F';
            break;
          case '‚õàÔ∏è':
            weatherText = 'Thunderstorms, 68¬∞F';
            break;
          case '‚ùÑÔ∏è':
            weatherText = 'Snowy, 30¬∞F';
            break;
        }
        
        document.getElementById('weather').value = weatherText;
      });
    });
    
    // Activity tag quick add buttons
    document.querySelectorAll('.activity-tag').forEach(button => {
      button.addEventListener('click', function() {
        const activityInput = document.getElementById('activities');
        const tagText = this.textContent.trim().replace('+ ', '');
        
        // Check if already in the input field
        if (!activityInput.value.includes(tagText)) {
          // Add comma if there's already text
          if (activityInput.value && !activityInput.value.endsWith(', ')) {
            activityInput.value += ', ';
          }
          
          activityInput.value += tagText;
        }
      });
    });
    
    // Reports section interactive elements
    document.addEventListener('DOMContentLoaded', function() {
      // Risk chart view toggle
      const chartViewButtons = document.querySelectorAll('.reports-section button[aria-label="Line view"], .reports-section button[aria-label="Bar view"], .reports-section button[aria-label="Area view"]');
      if (chartViewButtons.length) {
        chartViewButtons.forEach(button => {
          button.addEventListener('click', function() {
            // Remove active class from all buttons
            chartViewButtons.forEach(btn => {
              btn.classList.remove('bg-blue-600');
              btn.classList.add('bg-gray-700');
            });
            
            // Add active class to clicked button
            this.classList.remove('bg-gray-700');
            this.classList.add('bg-blue-600');
            
            // Here we would normally update chart view
            console.log(`Switching to ${this.textContent.trim()} view`);
          });
        });
      }
      
      // Report period selection
      const reportPeriodSelect = document.querySelector('.reports-section select[aria-label="Select report period"]');
      if (reportPeriodSelect) {
        reportPeriodSelect.addEventListener('change', function() {
          console.log(`Changing report period to: ${this.value}`);
          // Here we would normally update the report data based on selected period
        });
      }
      
      // Incident table interaction
      const incidentRows = document.querySelectorAll('.reports-section tbody tr');
      if (incidentRows.length) {
        incidentRows.forEach(row => {
          row.addEventListener('click', function(e) {
            // Don't trigger if they clicked an action button
            if (e.target.closest('button')) return;
            
            console.log(`Viewing details for incident`);
            // Here we would normally open incident details view
          });
        });
      }
      
      // Report generator form
      const reportTypeSelect = document.getElementById('report-type');
      if (reportTypeSelect) {
        reportTypeSelect.addEventListener('change', function() {
          console.log(`Selected report type: ${this.value}`);
          // Here we would normally update form fields based on report type
          
          // Simple demo of conditional fields
          const photoCheckbox = document.getElementById('include-photos');
          if (this.value === 'incident') {
            photoCheckbox.checked = true;
          } else if (this.value === 'compliance') {
            photoCheckbox.checked = false;
          }
        });
      }
    });

    // Enhanced Interactive Risk Score Slider
    document.addEventListener('DOMContentLoaded', function() {
      // Find the slider elements
      const sliderTrack = document.getElementById('risk-slider-track');
      const sliderIndicator = document.getElementById('risk-slider-indicator');
      const sliderValue = document.getElementById('risk-slider-value');
      const riskScoreText = document.getElementById('risk-score-text');
      
      // Find the risk breakdown bars to update when slider changes
      const weatherRiskBar = document.querySelector('.dashboard .panel:first-child .space-y-2 div:nth-child(1) .bg-green-500, .dashboard .panel:first-child .space-y-2 div:nth-child(1) .bg-yellow-500, .dashboard .panel:first-child .space-y-2 div:nth-child(1) .bg-red-500');
      const equipmentRiskBar = document.querySelector('.dashboard .panel:first-child .space-y-2 div:nth-child(2) .bg-green-500, .dashboard .panel:first-child .space-y-2 div:nth-child(2) .bg-yellow-500, .dashboard .panel:first-child .space-y-2 div:nth-child(2) .bg-red-500');
      const humanRiskBar = document.querySelector('.dashboard .panel:first-child .space-y-2 div:nth-child(3) .bg-green-500, .dashboard .panel:first-child .space-y-2 div:nth-child(3) .bg-yellow-500, .dashboard .panel:first-child .space-y-2 div:nth-child(3) .bg-red-500');
      
      // Function to update risk breakdown bars
      function updateRiskBreakdowns(riskValue) {
        // Calculate proportional values for risk factors
        const weatherRisk = Math.min(Math.max((riskValue * 0.5).toFixed(1), 0), 10);
        const equipmentRisk = Math.min(Math.max((riskValue * 1.2).toFixed(1), 0), 10); 
        const humanRisk = Math.min(Math.max((riskValue * 0.8).toFixed(1), 0), 10);
        
        // Update the risk breakdown text and bars
        if (weatherRiskBar) {
          const weatherText = weatherRiskBar.closest('div').querySelector('.flex.justify-between span:last-child');
          if (weatherText) weatherText.textContent = weatherRisk + '/10';
          
          // Update width on the bar
          weatherRiskBar.style.width = (weatherRisk * 10) + '%';
          
          // Update color based on value
          weatherRiskBar.classList.remove('bg-green-500', 'bg-yellow-500', 'bg-red-500');
          if (weatherRisk > 6.6) weatherRiskBar.classList.add('bg-red-500');
          else if (weatherRisk > 3.3) weatherRiskBar.classList.add('bg-yellow-500');
          else weatherRiskBar.classList.add('bg-green-500');
        }
        
        if (equipmentRiskBar) {
          const equipText = equipmentRiskBar.closest('div').querySelector('.flex.justify-between span:last-child');
          if (equipText) equipText.textContent = equipmentRisk + '/10';
          
          equipmentRiskBar.style.width = (equipmentRisk * 10) + '%';
          
          equipmentRiskBar.classList.remove('bg-green-500', 'bg-yellow-500', 'bg-red-500');
          if (equipmentRisk > 6.6) equipmentRiskBar.classList.add('bg-red-500');
          else if (equipmentRisk > 3.3) equipmentRiskBar.classList.add('bg-yellow-500');
          else equipmentRiskBar.classList.add('bg-green-500');
        }
        
        if (humanRiskBar) {
          const humanText = humanRiskBar.closest('div').querySelector('.flex.justify-between span:last-child');
          if (humanText) humanText.textContent = humanRisk + '/10';
          
          humanRiskBar.style.width = (humanRisk * 10) + '%';
          
          humanRiskBar.classList.remove('bg-green-500', 'bg-yellow-500', 'bg-red-500');
          if (humanRisk > 6.6) humanRiskBar.classList.add('bg-red-500');
          else if (humanRisk > 3.3) humanRiskBar.classList.add('bg-yellow-500');
          else humanRiskBar.classList.add('bg-green-500');
        }
      }
      
      // Function to handle slider interaction
      function handleSliderInteraction(e) {
        // Calculate position as percentage of the track width
        const rect = sliderTrack.getBoundingClientRect();
        const position = (e.clientX - rect.left) / rect.width;
        const percentage = Math.min(Math.max(position * 100, 0), 100);
        
        // Calculate risk value (0-10 scale)
        const riskValue = (position * 10).toFixed(1);
        
        // Update indicator position with smooth animation
        sliderIndicator.style.left = `${percentage}%`;
        
        // Update the risk value label
        sliderValue.textContent = riskValue;
        
        // Calculate risk level based on value
        let riskLevel = "Low";
        if (riskValue > 6.6) riskLevel = "High";
        else if (riskValue > 3.3) riskLevel = "Moderate";
        
        // Update risk score text
        riskScoreText.textContent = `${riskLevel} Risk (${riskValue}/10)`;
        
        // Update color of the panel based on risk level
        const panel = document.querySelector('.dashboard .panel:first-child');
        if (panel) {
          panel.classList.remove('from-green-400', 'from-yellow-400', 'from-red-400');
          panel.classList.remove('to-blue-500', 'to-orange-500', 'to-pink-500');
          
          if (riskLevel === "High") {
            panel.classList.add('from-red-400', 'to-pink-500');
            sliderValue.classList.remove('bg-blue-600', 'bg-yellow-500');
            sliderValue.classList.add('bg-red-600');
          } else if (riskLevel === "Moderate") {
            panel.classList.add('from-yellow-400', 'to-orange-500');
            sliderValue.classList.remove('bg-blue-600', 'bg-red-600');
            sliderValue.classList.add('bg-yellow-500');
          } else {
            panel.classList.add('from-green-400', 'to-blue-500');
            sliderValue.classList.remove('bg-yellow-500', 'bg-red-600');
            sliderValue.classList.add('bg-blue-600');
          }
        }
        
        // Update risk breakdowns
        updateRiskBreakdowns(parseFloat(riskValue));
        
        // Add a subtle animation to the panel
        if (panel) {
          panel.classList.add('scale-[1.01]');
          setTimeout(() => {
            panel.classList.remove('scale-[1.01]');
          }, 200);
        }
      }
      
      // Make the slider interactive
      if (sliderTrack && sliderIndicator) {
        // Click event for the track
        sliderTrack.addEventListener('click', handleSliderInteraction);
        
        // Mouse move for dragging (with mouse button pressed)
        let isDragging = false;
        
        sliderIndicator.addEventListener('mousedown', function() {
          isDragging = true;
          document.body.style.userSelect = 'none'; // Prevent text selection while dragging
        });
        
        document.addEventListener('mouseup', function() {
          isDragging = false;
          document.body.style.userSelect = '';
        });
        
        document.addEventListener('mousemove', function(e) {
          if (isDragging) {
            handleSliderInteraction(e);
          }
        });
        
        // Add hover effect to the track
        sliderTrack.addEventListener('mouseover', function() {
          this.classList.add('shadow-md', 'opacity-95');
        });
        
        sliderTrack.addEventListener('mouseout', function() {
          this.classList.remove('shadow-md', 'opacity-95');
        });
        
        // Add a pulsing animation to the indicator on page load
        setTimeout(() => {
          sliderIndicator.querySelector('span:first-child').classList.add('animate-pulse');
          setTimeout(() => {
            sliderIndicator.querySelector('span:first-child').classList.remove('animate-pulse');
          }, 2000);
        }, 1000);
      }
    });

    // Dark/Light Mode Toggle
    document.getElementById('theme-toggle').addEventListener('click', () => {
      // Toggle body classes
      document.body.classList.toggle('bg-gray-950');
      document.body.classList.toggle('bg-white');
      document.body.classList.toggle('text-gray-100');
      document.body.classList.toggle('text-gray-900');
      
      // Toggle navigation background
      document.querySelector('nav').classList.toggle('bg-gray-900');
      document.querySelector('nav').classList.toggle('bg-gray-100');
      document.querySelector('nav').classList.toggle('border-gray-800');
      document.querySelector('nav').classList.toggle('border-gray-300');
      
      // Toggle header background
      document.querySelector('header').classList.toggle('bg-gray-900');
      document.querySelector('header').classList.toggle('bg-gray-100');
      document.querySelector('header').classList.toggle('border-gray-800');
      document.querySelector('header').classList.toggle('border-gray-300');
      
      // Update toggle button icon
      const icon = document.querySelector('#theme-toggle svg path');
      if (document.body.classList.contains('bg-white')) {
        icon.setAttribute('d', 'M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z');
      } else {
        icon.setAttribute('d', 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z');
      }
      
      // Toggle checkbox in settings
      const darkModeCheckbox = document.getElementById('darkmode');
      if (darkModeCheckbox) {
        darkModeCheckbox.checked = document.body.classList.contains('bg-gray-950');
      }
    });
  </script>
</body>
</html>
<!--
  - Dashboard, sidebar, modals, and tooltips scaffolded
  - Next: Add Briefings, Live Alerts, Reports sections, and tooltips for each component
-->
